---
import { Image } from "astro:assets";
import tickIcon from "../../assets/icons/tick.svg";

interface Props {
  type?: "simple" | "image";
  message?: string;
  source: string;
  imageSrc?: ImageMetadata;
  imageAlt?: string;
  code?: string;
  domain?: boolean;
}

const {
  type = "simple",
  message = "",
  source,
  imageSrc,
  imageAlt = "",
  domain = false,
} = Astro.props;
---

<div class="pixelated-frame pt-3 px-12 text-center w-fit mx-auto bg-black">
  <!-- Frame parts -->
  <div class="frame-part top-bar"></div>
  <div class="frame-part top-right-corner"></div>
  <div class="frame-part bottom-right-corner"></div>
  <div class="frame-part bottom-left-segment"></div>
  <div class="frame-part bottom-right-segment"></div>
  <div class="frame-part bottom-left-corner"></div>
  <div class="frame-part top-left-corner"></div>
  <div class="frame-part left-bar"></div>
  <div class="frame-part right-bar"></div>

  <!-- Banner content based on type -->
  {
    type === "image" && imageSrc && (
      <div class="mb-3">
        <Image src={imageSrc} alt={imageAlt} width={150} height={100} class="mx-auto" />
      </div>
    )
  }

  <p class="text-white font-bold font-JetBrainsMono text-sm">{message}</p>
  <div class="flex items-center justify-center translate-y-2">
    <span class="text-white text-sm font-mono font-normal">{source}</span>
    <Image src={tickIcon} alt="Verified" width={24} height={24} class="ml-1" />
  </div>
</div>

<style>
  .pixelated-frame {
    position: relative;
  }

  .frame-part {
    position: absolute;
    background-color: white;
    z-index: 10;
  }

  /* Top horizontal bar */
  .top-bar {
    top: 0;
    left: 6px;
    width: calc(100% - 12px);
    height: 3px;
  }

  /* Top-right corner */
  .top-right-corner {
    top: 3px;
    right: 3px;
    width: 3px;
    height: 3px;
  }

  /* Bottom-right corner */
  .bottom-right-corner {
    bottom: 3px;
    right: 3px;
    width: 3px;
    height: 3px;
  }

  /* Bottom-left segment */
  .bottom-left-segment {
    bottom: 0;
    left: 6px;
    width: 40px;
    height: 3px;
  }

  /* Bottom-right segment */
  .bottom-right-segment {
    bottom: 0;
    right: 6px;
    width: 40px;
    height: 3px;
  }

  /* Bottom-left corner */
  .bottom-left-corner {
    bottom: 3px;
    left: 3px;
    width: 3px;
    height: 3px;
  }

  /* Top-left corner */
  .top-left-corner {
    top: 3px;
    left: 3px;
    width: 3px;
    height: 3px;
  }

  /* Left vertical bar */
  .left-bar {
    top: 6px;
    left: 0;
    width: 3px;
    height: calc(100% - 12px);
  }

  /* Right vertical bar */
  .right-bar {
    top: 6px;
    right: 0;
    width: 3px;
    height: calc(100% - 12px);
  }
</style>
